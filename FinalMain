package SalesTax;

import java.io.File;
import java.util.Scanner;

public class FinalMain {
	public static float totalTax = 0;
	public static float total = 0;
	public static float roundTax = 0;
	public static float roundTotal = 0;
	public static float roundTemp = 0;

	
	@SuppressWarnings("resource")
	public static void FinalMain(File FileName) {
		
		try {
		Scanner input = new Scanner(System.in);
        input = new Scanner(FileName);
        total = 0;
        totalTax = 0;
        while (input.hasNextLine()) {

        	String line = input.nextLine(); //take the line
        	String[] words = line.split(" "); //divide the line into tokens
        	int qty = Integer.parseInt(words[0]); //first token is the quantity
        	int priceIndex = line.lastIndexOf("at");
        	String ItemName = line.substring(1, priceIndex);
    		float rawPrice = Float.parseFloat((line.substring(priceIndex + 2)));
        	boolean imported = line.contains("imported"); //check if the item is imported
        	boolean choco = line.contains("chocolate");
        	boolean book = line.contains("book");
        	boolean meds = line.contains("pill");
        	for (int i=0;i<qty;i++) {
        		if (imported) {
        			if(choco||book||meds) {
            			System.out.println(qty+ItemName+":"+(rawPrice+(rawPrice*1/20)));
            			totalTax = totalTax+(rawPrice*1/20);
            			total = total + (rawPrice);
        			}else {
        			float x = (rawPrice*1/20)+(rawPrice*1/10);
        			System.out.println(qty+ItemName+":"+(rawPrice+x));
        			totalTax = totalTax + x;
        			total = total + (rawPrice+x);
        			}
        		}else if(choco||book||meds) {
        			System.out.println(qty+ItemName+":"+(rawPrice));
        			total = total + (rawPrice);
        		}
        		else {
        			System.out.println(qty+ItemName+":"+(rawPrice+(rawPrice*1/10)));
        			totalTax = totalTax + (rawPrice*1/10);
        			total = total + (rawPrice+(rawPrice*1/10));

        		}
        	}
        }
		double roundTax = (Math.round(totalTax * 100.0) / 100.0);
		double roundTotal = (Math.round(total * 100.0) / 100.0);
        System.out.println("Sales Taxes :"+roundTax);
        System.out.println("Total :"+roundTotal);
		}catch (Exception ex) {
            ex.printStackTrace();
        }
	}
	public static void main (String[] args) {
		File x = new File("/Users/Youssef Khaled/Desktop/Tasks/One.txt");	
		System.out.println("Run 1");
		FinalMain(x);

		File y = new File("/Users/Youssef Khaled/Desktop/Tasks/Two.txt");
		System.out.println("Run 2");
		FinalMain(y);

		File z = new File("/Users/Youssef Khaled/Desktop/Tasks/Three.txt");
		System.out.println("Run 3");
		FinalMain(z);
	}
}
